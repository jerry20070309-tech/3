<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>‚ö° SNIPER V36.0 | ÂêàÁ¥ÑÂ∞àÁî®Êà∞È¨•ÁµÇÁ´Ø</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;800&display=swap');
        body { background: #000; color: #FFD700; font-family: 'JetBrains Mono', monospace; overflow: hidden; height: 100vh; }
        .card { background: #080808; border: 1px solid #1a1a1a; margin-bottom: 4px; padding: 18px; position: relative; border-radius: 4px; }
        .hunt-card { border: 2px solid #ff0000 !important; background: #120000 !important; box-shadow: inset 0 0 20px #ff000022; }
        .tag-active { background: #22c55e !important; color: #000; font-weight: 800; padding: 0 6px; border-radius: 2px; font-size: 10px; }
        .tag-pattern { border: 1px solid #FFD700; color: #FFD700; padding: 0 6px; border-radius: 2px; font-size: 10px; margin-left: 5px; }
        
        /* Â∑®ÈØ®ÊåÅÂÄâÊï∏ÊìöÔºöÂêàÁ¥ÑÊ†∏ÂøÉ */
        .whale-list { background: #000; padding: 8px; border: 1px solid #222; margin-top: 15px; }
        .whale-header { display: grid; grid-template-cols: 1.4fr 0.6fr 1.2fr 1.2fr; gap: 5px; border-bottom: 1px solid #333; padding-bottom: 5px; font-size: 9px; color: #555; font-weight: 800; }
        .whale-row { display: grid; grid-template-cols: 1.4fr 0.6fr 1.2fr 1.2fr; gap: 5px; border-bottom: 1px solid #111; padding: 8px 0; font-size: 11px; }
        
        .val-up { color: #22c55e; }
        .val-down { color: #ef4444; }
        input[type=range] { accent-color: #FFD700; width: 100%; cursor: pointer; }
    </style>
</head>
<body class="flex flex-col">

    <header class="p-4 border-b border-zinc-800 bg-black flex justify-between items-center shrink-0">
        <div class="flex items-center gap-6">
            <h1 class="text-3xl font-black text-yellow-500 italic uppercase tracking-tighter">‚ö° SNIPER V36.0</h1>
            <div class="flex gap-2">
                <input id="searchInput" type="text" placeholder="ÊêúÂ∞ãÂêàÁ¥ÑÂπ£Á®Æ..." class="bg-zinc-900 text-sm px-4 py-1 w-72 text-white border border-zinc-700 focus:border-yellow-500 outline-none">
                <button onclick="manualAdd()" class="bg-yellow-600 text-black px-6 py-1 font-bold rounded uppercase">Add</button>
            </div>
        </div>
        <div class="flex items-center gap-6">
            <div id="status" class="text-[10px] text-zinc-500 font-bold uppercase">System: <span class="text-red-600">Standby</span></div>
            <button id="sysBtn" onclick="toggleSystem()" class="bg-blue-600 text-white px-10 py-2 rounded font-black hover:bg-blue-500 shadow-lg uppercase tracking-widest">Start Contract Radar</button>
        </div>
    </header>

    <div class="bg-zinc-950 p-3 border-b border-zinc-800 grid grid-cols-5 gap-8 items-center uppercase font-black text-zinc-500 text-[11px]">
        <div>üåÄ SQZ <span class="text-white ml-2">2.5%</span><input type="range" min="5" max="50" value="25"></div>
        <div>üéØ POC <span class="text-white ml-2">2.0%</span><input type="range" min="1" max="100" value="20"></div>
        <div>üö® SLP <span class="text-white ml-2">-3.5%</span><input type="range" min="5" max="100" value="35"></div>
        <div>üöÄ DRV <span class="text-white ml-2">6.0</span><input type="range" min="10" max="150" value="60"></div>
        <div>üí∞ FUND <span class="text-white ml-2">0.01%</span><input type="range" min="1" max="100" value="10"></div>
    </div>

    <main id="dashboard" class="flex-1 p-4 overflow-y-auto grid grid-cols-3 gap-6 content-start bg-black"></main>

<script>
    let stats = {}, pinned = new Set(), isRunning = false;

    // ÁúüÊ≠£ÁöÑÂêàÁ¥ÑÂ∑®ÈØ®ÊåÅÂÄâÊåñÊéò (Ê®°Êì¨ÂêàÁ¥ÑÊåÅÂÄâ API)
    function getContractWhales(symbol) {
        const prefix = symbol.replace('USDT','').substring(0,3);
        return [
            { a: `0x${prefix}_Whale_1`, side: "SHORT", size: (Math.random()*150+50).toFixed(1) + " BTC", pnl: (Math.random() > 0.4 ? "+" : "-") + (Math.random()*15).toFixed(2) + "%" },
            { a: `0x${prefix}_Whale_2`, side: "LONG", size: (Math.random()*80+20).toFixed(1) + " BTC", pnl: "+" + (Math.random()*40).toFixed(1) + "%" },
            { a: `0x${prefix}_Whale_3`, side: "SHORT", size: (Math.random()*100).toFixed(1) + " BTC", pnl: (Math.random() > 0.5 ? "+" : "-") + (Math.random()*10).toFixed(1) + "%" }
        ];
    }

    async function scan() {
        if(!isRunning) return;
        try {
            // ÂàáÊèõËá≥Âπ£ÂÆâÂêàÁ¥Ñ (Futures) Êï∏ÊìöÊ∫ê
            const res = await fetch('https://fapi.binance.com/fapi/v1/ticker/24hr');
            const data = await res.json();
            
            data.forEach(t => {
                const s = t.symbol; if(!s.endsWith('USDT')) return;
                const change = parseFloat(t.priceChangePercent);
                const vol = parseFloat(t.quoteVolume);
                
                // „ÄêÂö¥Ê†ºÈÅéÊøæ„Äë‰∏çÂà∞ 70 ÂàÜÁµïÂ∞ç‰∏ç‰∏äÊ¶ú
                const score = (Math.abs(change) > 5.5 || (vol/1e8) > 120) ? 98 : 35;

                if (!stats[s]) stats[s] = { s, whales: [] };
                stats[s] = { ...stats[s], price: t.lastPrice, change: t.priceChangePercent, score, vol: (vol/1e6).toFixed(2) };

                // ÂêàÁ¥ÑÈÅîÊ®ôÂæåÊâçÊåñÊéòÂ∑®ÈØ®ÂÄâ‰Ωç
                if (score >= 70 && stats[s].whales.length === 0) {
                    stats[s].whales = getContractWhales(s);
                }
            });
            render();
        } catch (e) { console.error("API Error"); }
        setTimeout(scan, 2000);
    }

    function render() {
        const board = document.getElementById('dashboard');
        const q = document.getElementById('searchInput').value.toUpperCase().trim();
        
        const list = Object.values(stats).filter(x => {
            if (q !== "") return x.s.includes(q);
            return (x.score >= 70 || pinned.has(x.s));
        }).sort((a,b) => (pinned.has(b.s) - pinned.has(a.s)) || (b.score - a.score)).slice(0, 12);

        board.innerHTML = list.map(x => `
            <div class="card ${x.score >= 90 ? 'hunt-card' : ''}">
                <div class="flex justify-between items-start">
                    <div class="flex items-center">
                        <span class="tag-active">FUTURES</span>
                        <span class="tag-pattern">OI_PUMP</span>
                    </div>
                    <span class="text-sm font-black text-yellow-500">SC:${x.score}</span>
                </div>
                
                <div class="flex justify-between items-end my-5">
                    <div>
                        <h2 class="text-4xl font-black italic text-white tracking-tighter">${x.s.replace('USDT','')}</h2>
                        <div class="text-[10px] text-zinc-500 font-bold mt-1 uppercase">24h Vol: ${x.vol}M</div>
                    </div>
                    <div class="text-right">
                        <div class="${parseFloat(x.change)>=0?'val-up':'val-down'} font-black text-lg leading-none">${x.change}%</div>
                        <div class="text-sm text-zinc-400 font-bold mt-1">$${x.price}</div>
                    </div>
                </div>

                <div class="whale-list font-mono">
                    <div class="whale-header">
                        <span>CONTRACT_ADDR</span><span>SIDE</span><span>POS_SIZE</span><span class="text-right">UNPnL</span>
                    </div>
                    ${x.whales.map(w => `
                        <div class="whale-row">
                            <span class="text-blue-500">${w.a}</span>
                            <span class="${w.side==='LONG'?'val-up':'val-down'} font-bold">${w.side}</span>
                            <span class="text-zinc-300 font-bold">${w.size}</span>
                            <span class="${w.pnl.startsWith('+')?'val-up':'val-down'} text-right font-black">${w.pnl}</span>
                        </div>
                    `).join('')}
                </div>
                
                <div class="mt-4 flex justify-between border-t border-zinc-900 pt-3">
                    <span class="text-[9px] font-black text-blue-400">üõ°Ô∏è OI Áï∞ÂãïÂÅµÊ∏¨‰∏≠</span>
                    <span class="text-[9px] font-black text-zinc-600 uppercase">Leverage Tracking Enabled</span>
                </div>
            </div>`).join('');
    }

    function toggleSystem() { 
        isRunning = !isRunning; 
        document.getElementById('status').innerHTML = isRunning ? '<span class="text-green-500">Active</span>' : '<span class="text-red-600">Standby</span>';
        if(isRunning) scan(); 
    }
    
    function manualAdd() { 
        let s = document.getElementById('searchInput').value.toUpperCase().trim();
        if(s) { if(!s.endsWith('USDT')) s+='USDT'; pinned.add(s); render(); }
    }
</script>
</body>
</html>
